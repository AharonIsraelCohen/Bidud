#!/bin/bash

SpoolPath=/software/Bidud/Printer/spool

# Getting the first chracter
FirstCharacter=`echo $1 | cut -c 1`

DeleteFiles ()
{
	set -x
	if [[ -f $SpoolPath/$1/R$2 && -f $SpoolPath/$1/D$2 ]]
        then
        	rm $SpoolPath/$1/R$2 $SpoolPath/$1/D$2
	else        
                echo There is no such files $2 to delete
        fi

}

# Checking what printer to activate
if [ $FirstCharacter == "-" ]

	then
		# Getting the printer name
		printerName=`echo $1 | sed 's/^.//'`

		if [ -d $SpoolPath/$printerName ]
			then	
				DeleteFiles $printerName $2
			else
				echo the printer not exsit
		fi

	else
		# Checking if there is a default printer
		if [ -e $SpoolPath/default ]
			then
				DeleteFiles default $1
			else
				echo there is no default printer, use lpadmin -default printer_name to set one
		fi
fi
