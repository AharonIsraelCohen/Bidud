#!/bin/bash

SpoolPath=/software/Bidud/Printer/spool

function DisplayPrinter ()
{
	# Print the printer name
        echo $1
	
	# Check if there are any files
	if [ -f $SpoolPath/$1/R1 ]
		then
		        # Displaying all of the printer work
        		for i in $SpoolPath/$1/R*

        			do
     	        			cat $i
	                	done
		else
			echo there are no files to print
	fi
}

# Check wheter to run on all printers or just one
if [ "$1" == "-all" ]

	then

		cd $SpoolPath
		for printer in *

			do
				# Check if its not the softlink
				if [ ! -h $printer ]

					then
						DisplayPrinter $printer
				fi
			done
	else
		# Check if the printer exist
		if [ -d $SpoolPath/$1 ]

			then
				DisplayPrinter $1
			else
				echo we dont have such printer

		fi
fi
